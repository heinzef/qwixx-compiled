var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function c(){return Object.create(null)}function o(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e){return null==e?"":e}function s(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function a(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function g(){return h(" ")}function $(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}let p;function m(e){p=e}function v(){const e=p;return(t,n)=>{const c=e.$$.callbacks[t];if(c){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);c.slice().forEach(t=>{t.call(e,o)})}}}const w=[],b=[],x=[],y=[],_=Promise.resolve();let C=!1;function E(e){x.push(e)}function I(){const e=new Set;do{for(;w.length;){const e=w.shift();m(e),j(e.$$)}for(;b.length;)b.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];e.has(n)||(n(),e.add(n))}x.length=0}while(w.length);for(;y.length;)y.pop()();C=!1}function j(e){e.fragment&&(e.update(e.dirty),o(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(E))}const F=new Set;let O;function A(e,t){e&&e.i&&(F.delete(e),e.i(t))}function N(e,t,n,c){if(e&&e.o){if(F.has(e))return;F.add(e),O.c.push(()=>{F.delete(e),c&&(n&&e.d(1),c())}),e.o(t)}}function B(e,t,c){const{fragment:l,on_mount:i,on_destroy:s,after_update:d}=e.$$;l.m(t,c),E(()=>{const t=i.map(n).filter(r);s?s.push(...t):o(t),e.$$.on_mount=[]}),d.forEach(E)}function L(e,t){e.$$.fragment&&(o(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function S(e,t){e.$$.dirty||(w.push(e),C||(C=!0,_.then(I)),e.$$.dirty=c()),e.$$.dirty[t]=!0}function X(t,n,r,l,i,s){const d=p;m(t);const u=n.props||{},f=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:i,bound:c(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:c(),dirty:null};let a=!1;var h;f.ctx=r?r(t,u,(e,n,c=n)=>(f.ctx&&i(f.ctx[e],f.ctx[e]=c)&&(f.bound[e]&&f.bound[e](c),a&&S(t,e)),n)):u,f.update(),a=!0,o(f.before_update),f.fragment=l(f.ctx),n.target&&(n.hydrate?f.fragment.l((h=n.target,Array.from(h.childNodes))):f.fragment.c(),n.intro&&A(t.$$.fragment),B(t,n.target,n.anchor),I()),m(d)}class q{$destroy(){L(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const M={canCheckField:(e,t)=>{if(e[t].checked||e[t].disabled)return!1;if(t===e.length-1){const t=e.reduce((e,t)=>e+(t.checked?1:0),0);if(console.log(t),t<5)return!1}return!0},checkField:(e,t)=>{e[t]={...e[t],checked:!0};for(let n=0;n<t;n++)e[n].checked||e[n].disabled||(e[n].disabled=!0);return e}};function P(e,t,n){const c=Object.create(e);return c.field=t[n],c.i=n,c}function T(e){var t;return{c(){(t=a("div")).textContent="X",$(t,"class","field-checked svelte-11a7kg7")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function z(e){var t,n,c,o,r,l,f,p=e.field.value+"",m=e.field.checked&&T();function v(){return e.click_handler(e)}return{c(){var s,d,u,k;t=a("div"),n=a("div"),c=h(p),o=g(),m&&m.c(),r=g(),$(t,"class",l=i(`field ${e.field.disabled?"disabled":""}`)+" svelte-11a7kg7"),d="click",u=v,(s=t).addEventListener(d,u,k),f=(()=>s.removeEventListener(d,u,k))},m(e,l){d(e,t,l),s(t,n),s(n,c),s(t,o),m&&m.m(t,null),s(t,r)},p(n,o){e=o,n.fields&&p!==(p=e.field.value+"")&&k(c,p),e.field.checked?m||((m=T()).c(),m.m(t,r)):m&&(m.d(1),m=null),n.fields&&l!==(l=i(`field ${e.field.disabled?"disabled":""}`)+" svelte-11a7kg7")&&$(t,"class",l)},d(e){e&&u(t),m&&m.d(),f()}}}function D(e){var t;return{c(){(t=a("div")).textContent="X",$(t,"class","field-checked svelte-11a7kg7")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function G(t){var n,c,o,r,l,h,k;let p=t.fields,m=[];for(let e=0;e<p.length;e+=1)m[e]=z(P(t,p,e));var v=t.closed&&D();return{c(){n=a("div"),c=a("div");for(let e=0;e<m.length;e+=1)m[e].c();o=g(),r=a("div"),l=a("i"),h=g(),v&&v.c(),$(c,"class","row-inner svelte-11a7kg7"),$(l,"class","fa fa-unlock-alt"),$(r,"class","field lock svelte-11a7kg7"),$(n,"class",k=i(`row ${t.color}`)+" svelte-11a7kg7")},m(e,t){d(e,n,t),s(n,c);for(let e=0;e<m.length;e+=1)m[e].m(c,null);s(n,o),s(n,r),s(r,l),s(r,h),v&&v.m(r,null)},p(e,t){if(e.fields){let n;for(p=t.fields,n=0;n<p.length;n+=1){const o=P(t,p,n);m[n]?m[n].p(e,o):(m[n]=z(o),m[n].c(),m[n].m(c,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=p.length}t.closed?v||((v=D()).c(),v.m(r,null)):v&&(v.d(1),v=null),e.color&&k!==(k=i(`row ${t.color}`)+" svelte-11a7kg7")&&$(n,"class",k)},i:e,o:e,d(e){e&&u(n),f(m,e),v&&v.d()}}}function H(e,t,n){const c=v();let{color:o="",direction:r="",rowIndex:l=0}=t,i=!1,s=[2,3,4,5,6,7,8,9,10,11,12];n("fields",s=s.map(e=>({value:e,checked:!1,color:o,disabled:!1}))),"desc"===r&&n("fields",s=s.reverse());const d=e=>{M.canCheckField(s,e)&&(n("fields",s=M.checkField(s,e)),e===s.length-1&&n("closed",i=!0),c("fieldClicked",s[e].color))};return e.$set=(e=>{"color"in e&&n("color",o=e.color),"direction"in e&&n("direction",r=e.direction),"rowIndex"in e&&n("rowIndex",l=e.rowIndex)}),{color:o,direction:r,rowIndex:l,closed:i,fields:s,handleFieldClicked:d,click_handler:({i:e})=>d(e)}}class J extends q{constructor(e){super(),X(this,e,H,G,l,["color","direction","rowIndex"])}}function K(e,t,n){const c=Object.create(e);return c.row=t[n],c}function Q(e){var n,c=[e.row];let o={};for(var r=0;r<c.length;r+=1)o=t(o,c[r]);var l=new J({props:o});return l.$on("fieldClicked",e.trackFieldClicked),{c(){l.$$.fragment.c()},m(e,t){B(l,e,t),n=!0},p(e,t){var n,o=e.rows?function(e,t){const n={},c={},o={$$scope:1};let r=e.length;for(;r--;){const l=e[r],i=t[r];if(i){for(const e in l)e in i||(c[e]=1);for(const e in i)o[e]||(n[e]=i[e],o[e]=1);e[r]=i}else for(const e in l)o[e]=1}for(const e in c)e in n||(n[e]=void 0);return n}(c,[(n=t.row,"object"==typeof n&&null!==n?n:{})]):{};l.$set(o)},i(e){n||(A(l.$$.fragment,e),n=!0)},o(e){N(l.$$.fragment,e),n=!1},d(e){L(l,e)}}}function R(e){var t,n,c,r,l,i,p,m,v,w,b,x,y,_,C,E=e.checks.red+"",I=e.checks.yellow+"",j=e.checks.green+"",F=e.checks.blue+"",B=e.checks.nothrow+"",L=Object.values(e.checks).reduce(U,0)+"";let S=e.rows,X=[];for(let t=0;t<S.length;t+=1)X[t]=Q(K(e,S,t));const q=e=>N(X[e],1,1,()=>{X[e]=null});return{c(){t=a("div");for(let e=0;e<X.length;e+=1)X[e].c();n=g(),c=a("div"),r=h(E),l=h(" + "),i=h(I),p=h(" + "),m=h(j),v=h(" + \r\n\t"),w=h(F),b=h(" - "),x=h(B),y=h(" = "),_=h(L),$(t,"class","row-container svelte-oeem0o")},m(e,o){d(e,t,o);for(let e=0;e<X.length;e+=1)X[e].m(t,null);d(e,n,o),d(e,c,o),s(c,r),s(c,l),s(c,i),s(c,p),s(c,m),s(c,v),s(c,w),s(c,b),s(c,x),s(c,y),s(c,_),C=!0},p(e,n){if(e.rows){let c;for(S=n.rows,c=0;c<S.length;c+=1){const o=K(n,S,c);X[c]?(X[c].p(e,o),A(X[c],1)):(X[c]=Q(o),X[c].c(),A(X[c],1),X[c].m(t,null))}for(O={r:0,c:[],p:O},c=S.length;c<X.length;c+=1)q(c);O.r||o(O.c),O=O.p}C&&!e.checks||E===(E=n.checks.red+"")||k(r,E),C&&!e.checks||I===(I=n.checks.yellow+"")||k(i,I),C&&!e.checks||j===(j=n.checks.green+"")||k(m,j),C&&!e.checks||F===(F=n.checks.blue+"")||k(w,F),C&&!e.checks||B===(B=n.checks.nothrow+"")||k(x,B),C&&!e.checks||L===(L=Object.values(n.checks).reduce(U,0)+"")||k(_,L)},i(e){if(!C){for(let e=0;e<S.length;e+=1)A(X[e]);C=!0}},o(e){X=X.filter(Boolean);for(let e=0;e<X.length;e+=1)N(X[e]);C=!1},d(e){e&&u(t),f(X,e),e&&(u(n),u(c))}}}const U=(e,t)=>e+t;function V(e,t,n){const c={red:0,yellow:0,blue:0,green:0,nothrow:0};return{rows:[{rowIndex:0,color:"red",direction:"asc"},{rowIndex:1,color:"yellow",direction:"asc"},{rowIndex:2,color:"green",direction:"desc"},{rowIndex:3,color:"blue",direction:"desc"}],checks:c,trackFieldClicked:e=>{n("checks",c[e.detail]=c[e.detail]+1,c),console.log(c)}}}class W extends q{constructor(e){super(),X(this,e,V,R,l,[])}}function Y(t){var n,c=new W({});return{c(){c.$$.fragment.c()},m(e,t){B(c,e,t),n=!0},p:e,i(e){n||(A(c.$$.fragment,e),n=!0)},o(e){N(c.$$.fragment,e),n=!1},d(e){L(c,e)}}}return new class extends q{constructor(e){super(),X(this,e,null,Y,l,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
